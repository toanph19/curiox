@model QuestionViewModel

@{
    ViewData["Title"] = "Question";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@section StyleSheets {
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="~/css/lib/jquery-ui.css" rel="stylesheet" />
    <link href="~/css/lib/bootstrap.css" rel="stylesheet" />
    <link href="~/css/question_styles.css" rel="stylesheet" />
}
    <div class="row">
        <div id="main-section">
            <div class="question-container page-header">

                <!--Topic bar-->
                <div class="topic-bar">
                    <div class="topic-tag">
                        <a href="#">#@Model.Category</a>
                    </div>
                </div>

                <!--Question content-->
                <div class="question-content">
                    <div>
                        <div>
                            <h1 class="question-content-text" question-id="@Model.Id" question-liked="@Model.Liked">Question: @Model.Title </h1>
                            <div>
                                <p style="font-size:1.1em">
                                    @Model.Content
                                </p>
                            </div>
                            <div class="question-info">
                                <div class="poster">
                                    <small>by <strong>@Model.UserName</strong> on @Model.DateCreated</small>
                                </div>
                                <hr />
                                <h3><strong>@Model.Answer.Count() answers</strong></h3>
                            </div>
                        </div>
                    </div>
                </div>
                @foreach (var answer in Model.Answer)
                {
                    <div class="page-header">
                        <h3>Answer by<strong class="answer-author">  @answer.UserName </strong></h3>
                        <div class="poster">
                            <small>Answered on @answer.DateCreated</small> @if (answer.DateUpdated != null) { <small>  Last Updated on @answer.DateUpdated</small>}
                        </div>
                        <p class="anwser-content" answer-id="@answer.Id" answer-liked="@answer.Liked">
                            @answer.Content
                        </p>

                        <div class="utility">
                            <ul>
                                <li><span class="action-btn btn-upvote"><i class="far fa-thumbs-up"></i><span class="nbUpvote">@answer.UpvoteCount</span><span> Upvote</span></span></li>
                                <li><a class="btn-edit-answer" href="#">Edit</a></li>
                                <li><a class="btn-delete-answer" href="#">Delete</a></li>
                            </ul>
                        </div>
                    </div>
                }
                <!--Answer box-->
                <hr>
                <div class="form-container">
                    <form action="/" method="post">
                        <div class="form-group">
                            <label><h3><strong>Your Answer</strong></h3></label>
                            <textarea id="contentAnswer" class="form-control" placeholder="Enter your answer" rows="4"></textarea>
                        </div>
                        <div class="form-group">
                            <input type="submit" name="submit-answer-btn" value="Submit" id="btnSubmit" class="btn" />
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="" id="confirm-box">
            <div class="d-flex">
                <div class="icon-warning"><i class="fas fa-exclamation-triangle"></i></div>
                <div class="title-confirm">Do you really want to delete this answer?</div>
            </div>
        </div>

        <script src="~/js/lib/jquery-3.4.1.js"></script>
        <script src="~/js/View/config.js"></script>
        <script src="~/js/common/common.js"></script>
        <script src="~/js/common/layout.js"></script>
        <script src="~/js/View/question.js"></script>

        @section Scripts {

        }

